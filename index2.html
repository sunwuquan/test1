<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=yes">
    <title>八强竞猜</title>
    <link rel="stylesheet" href="./css/index2.css">
</head>
<body>
<header class="header">
    <div class="title">
        <a href="javascript:void(0);"><img src="./images/back.gif" alt="返回键"></a>
        <h1>欧冠八强竞猜理财</h1>
    </div>
    <div class="pic">
        <img src="./images/baqiang/pic.png" alt="">
        <div class="pic_btn">
            <div class="pic_btn_left">
                <p>保底年化收益</p>
                <p class="pic_numbSize"><span id="year">4</span></p>
            </div>
            <div class="pic_btn_cen">
                <p class="pic_btn_cen_title">猜对懂球帝加将:</p>
                <p class="pic_numbSize" id="award"><span>2.0</span>~<span>135.8</span></p>
            </div>
            <div class="pic_btn_right">
                <p class="pic_btn_right_text">起投金额(元):</p>
                <p class="pic_numbSize" id="money">1000</p>
            </div>
        </div>
    </div>
</header>
<div class="content clear">
    <!--<div class="content_title"><img src="./images/baqiang/4-8-title.png" alt=""></div>-->
    <img src="./images/baqiang/4-8-title.png" alt="">
    <div class="content_body">

        <ul id="clicks">
            <li class="clear" value="1">
                <div class="content_body_left clear">
                    <button class="content_body_left_left" type="redio" value="aa">晋级</button>
                    <div class="content_body_left_right"><img src="./images/baqiang/guobiao/blsrem.png" alt="">巴黎圣日耳曼
                    </div>
                </div>
                <span class="content_body_cent">vs</span>
                <div class="content_body_right clear">
                    <div class="content_body_right_right"><img src="./images/baqiang/guobiao/bsln.png" alt="">巴塞罗那</div>
                    <button class="content_body_left_left" type="redio" value="bb">晋级</button>
                </div>
            </li>
            <li class="clear" value="2">
                <div class="content_body_left clear">
                    <button class="content_body_left_left" value="aa">晋级</button>
                    <div class="content_body_left_right"><img src="./images/baqiang/guobiao/bfk.png" alt="">本菲卡</div>
                </div>
                <span class="content_body_cent">vs</span>
                <div class="content_body_right clear">
                    <div class="content_body_right_right"><img src="./images/baqiang/guobiao/dtmd.png" alt="">多特蒙德</div>
                    <button class="content_body_left_left fr" value="bb">晋级</button>
                </div>
            </li>
            <li class="clear" value="3">
                <div class="content_body_left clear">
                    <button class="content_body_left_left">晋级</button>
                    <div class="content_body_left_right"><img src="./images/baqiang/guobiao/hjmdl.png" alt="">皇家马德里
                    </div>
                </div>
                <span class="content_body_cent">vs</span>
                <div class="content_body_right clear">
                    <div class="content_body_right_right"><img src="./images/baqiang/guobiao/nbls.png" alt="">那不勒斯</div>
                    <button class="content_body_left_left fr">晋级</button>
                </div>
            </li>
            <li class="clear" value="4">
                <div class="content_body_left clear">
                    <button class="content_body_left_left">晋级</button>
                    <div class="content_body_left_right"><img src="./images/baqiang/guobiao/brmnh.png" alt="">拜仁慕尼黑
                    </div>
                </div>
                <span class="content_body_cent">vs</span>
                <div class="content_body_right clear">
                    <div class="content_body_right_right"><img src="./images/baqiang/guobiao/asn.png" alt="">阿森纳</div>
                    <button class="content_body_left_left fr">晋级</button>
                </div>
            </li>
            <li class="clear" value="5">
                <div class="content_body_left clear">
                    <button class="content_body_left_left">晋级</button>
                    <div class="content_body_left_right"><img src="./images/baqiang/guobiao/brt.png" alt="">波尔图</div>
                </div>
                <span class="content_body_cent">vs</span>
                <div class="content_body_right clear">
                    <div class="content_body_right_right"><img src="./images/baqiang/guobiao/uwts.png" alt="">尤文图斯</div>
                    <button class="content_body_left_left fr">晋级</button>
                </div>
            </li>
            <li class="clear" value="6">
                <div class="content_body_left clear">
                    <button class="content_body_left_left">晋级</button>
                    <div class="content_body_left_right"><img src="./images/baqiang/guobiao/lwks.png" alt="">勒沃库森</div>
                </div>
                <span class="content_body_cent">vs</span>
                <div class="content_body_right clear">
                    <div class="content_body_right_right"><img src="./images/baqiang/guobiao/mdljj.png" alt="">马德里竞技
                    </div>
                    <button class="content_body_left_left fr">晋级</button>
                </div>
            </li>
            <li class="clear" value="7">
                <div class="content_body_left clear">
                    <button class="content_body_left_left">晋级</button>
                    <div class="content_body_left_right">
                        <img src="./images/baqiang/guobiao/swly.png" alt="">塞维利亚
                    </div>
                </div>
                <span class="content_body_cent">vs</span>
                <div class="content_body_right clear">
                    <div class="content_body_right_right"><img src="./images/baqiang/guobiao/lstc.png" alt="">莱斯特城</div>
                    <button class="content_body_left_left fr">晋级</button>
                </div>
            </li>
            <li class="clear" value="8">
                <div class="content_body_left clear">
                    <button class="content_body_left_left">晋级</button>
                    <div class="content_body_left_right"><img src="./images/baqiang/guobiao/mc.png" alt="">曼城</div>
                </div>
                <span class="content_body_cent">vs</span>
                <div class="content_body_right clear">
                    <div class="content_body_right_right"><img src="./images/baqiang/guobiao/MNG.png" alt="">摩纳哥</div>
                    <button class="content_body_left_left fr">晋级</button>
                </div>
            </li>
            <li class="content_body_bottom">全对预计加息: <span>8.8%</span> 预计万份收益: <span>988元</span></li>
        </ul>
    </div>
</div>
<div class="details">
    <ul>
        <li>购买截止日期 <span>2017年2月12日</span></li>
        <li>起息日 <span>2017年2月13日</span></li>
        <li>收益到期日 <span>2017年3月12日</span></li>
        <li>服务平台 <span>苏宁易付宝</span></li>
        <li>回款方式 <span>苏宁易付宝一次性付清本金及基础收益</span></li>
        <li>加奖汇款方式 <span>懂球帝支付</span></li>
        <li class="details_btn clear"><a href="javascript:void (0)">>>查看产品详情</a></li>
    </ul>
</div>
<footer class="footer">
    <p class="footer_title">活动须知</p>
    <div class="footer_content">
        1.本次活动有效期为：2016年2月6日至2016-2017赛季欧洲冠军联赛结束 <br>
        2.贴息率不固定，实际贴息以用户购买时的收益率计算为准；<br>
        3.在活动期间，投资活动项目，未全部猜对的用户，除本金外，将获得苏宁金服提供的4%基础年化收益，而选对全部正确结果的用户，还将按照奖励分配规则，额外获得懂球帝提供的加息收益；<br>
        4.加息收益详情将以消息通知的方式发送到您的懂球帝账户，并最终由懂球帝进行加奖。您也可以咨询客服电话010-82870288或下载苏宁易付宝，关注收益变化；<br>
        5.本次活动所涉的比赛因故无法完赛的，按比赛最终裁定的赛果确定最终活动结果；如比赛因故延期举行的，已投资用户的本金和预期收益都按项目原有规定执行，最终活动结果按延期进行的比赛赛果确定；如比赛因故无法进行，则活动取消；<br>
        6.请用户仔细阅读本规则并依照本规则参与活动，如有违反或超出本规则的情形，或者因用户本人操作不当无法参与活动，将不能依照本规则享受相关权益。
    </div>
    <div class="footer_bottom" id="btn_submit"><span>确认选择,&nbsp;我要赢加息</span></div>
</footer>
<div id="layer">
    <div class="center1">
        <input type="text">
        <input type="button" id="tijiao" value="提交">
    </div>
</div>
<!--<script type="text/javascript" src="zepto.js"></script>-->
<script type="text/javascript" src="jquery-3.2.1.js"></script>

<script type="text/javascript">
    var oUl = document.getElementById("clicks");
    var oLi = oUl.getElementsByTagName("li");
    var map = new HashMap();

    for (var i = 0; i < oLi.length; i++) {
        (function (k) {
            var oBtn = oLi[k].getElementsByTagName("button");
            for (var m = 0; m < oBtn.length; m++) {
                (function (n) {
                    oBtn[n].onclick = function (ev) {
                        var target = ev.target;
                        if (target.className == "content_body_left_left_active") {
                            target.className = "content_body_left_left";
                        } else {
                            target.className = "content_body_left_left_active";
                        }
                        if (n == 0) {
                            oBtn[1].className = "content_body_left_left";
                        } else if (n == 1) {
                            oBtn[0].className = "content_body_left_left";
                        }
                        calculate(map, k + "", n + "")
                    };
                })(m)
            }
        })(i)
    }


    function calculate(map, liIndex, n) {

        console.log(liIndex + "====" + n)

        if (!map.containsKey(liIndex + "")) {  //\
            // console.log("map" +map.get(liIndex+""))
            map.put(liIndex + "", 99 + "")
            console.log("size" + map.values)
            if (map.values.size < 4) {
                console.log("bbbb")
                map.put(liIndex, n)

            } else {
                return
            }
        } else {

            var value = map.get(liIndex)
            if (value == n) {
                map.remove(liIndex)
            } else {
                map.put(liIndex, n)
            }

        }

        console.log("map.size=======" + map.size)


    }

    function HashMap() {
        var length = 0;
        var obj = new Object();
        this.isEmpty = function () {
            return length == 0;
        };
        this.containsKey = function (key) {
            return (key) ? (key in obj) : false;
        };
        this.containsValue = function (value) {
            for (key in obj) {
                if (obj[key] == value) {
                    return true;
                }
            }
            return false;
        };
        this.get = function (key) {
            return (this.containsKey(key)) ? obj[key] : null;
        };
        this.remove = function (key) {
            if (this.containsKey(key) && delete obj[key]) {
                length--;
            }
        };
        this.put = function (key, value) {
            if (!this.containsKey(key)) {
                length++;
            }
            obj[key] = value;
        };
        this.values = function () {
            var _values = new Array();
            for (key in obj) {
                _values.push(obj[key]);
            }
            return _values;
        };
        this.keySet = function () {
            var ks = new Array();
            for (key in obj) {
                ks.push(key);
            }
            return ks;
        };
        this.size = function () {
            return this.length;
        };
        this.clear = function () {
            this.length = 0;
            this.obj = new Object();
        };
        this.toJSON = function () {
            return JSON.stringify(obj, null, 2);
        }
    };
    /**
     * var oBtn=oLi[j].getElementsByTagName("button");

     for(var m = 0; m<oBtn.length;m++){
                   (function (n) {
                       oBtn(n).onclick = function () {
                           alert(n+"pppp")
                       }
                   })(m)
               }

     /**
     * //                for(var k=0;k<oBtn.length;k++){
//                    (function (n) {
//                        oBtn.onclick=function () {
//                            alert(n);
//                            var target=ev.target;
////                    map.putvalue(j,target.value);
////                    alert(target.attr(""));
////                    console.log(map.keys()+":"+map.values());
////                     console.log("j======" + j)
//                    if(target.className=="content_body_left_left_active"){
//                        target.className="content_body_left_left";
//                    }else {
//                    target.className="content_body_left_left_active";
//                    }
//                        }
//                    })(k);
//                }
     */
    //   for(var i=0;i<1;i++){
//            var oBtn=oLi[i].getElementsByTagName("button");

//            for(var j=0;j<oBtn.length;j++){
//                oBtn[j].addEventListener("click",function (ev) {
//                    var target=ev.target;
//                    map.putvalue(j,target.value);
////                    alert(target.attr(""));
//                    console.log(map.keys()+":"+map.values());
//                     console.log("j======" + j)
//                    if(target.className=="content_body_left_left_active"){
//                        target.className="content_body_left_left";
//                    }else {
//                    target.className="content_body_left_left_active";
//                    }
//                });
//            }
    //   }
//        function () {
//
//        }
//        var index_=0;
//        $("#clicks").on("click",function (ev) {
//            var target=ev.target;
//            var map=new HashMap();
//            while (target!==$("#clicks")){
//                if(target.tagName.toLowerCase()=="button"){
//                    if(target.id=="aa"){
//                        alert("hh");
//                    }
//                    if(target.className=="content_body_left_left_active"){

//                        if(index_>0){
//                            index_--;
//                            target.className="content_body_left_left";
//                        }else {
//                            index_=0;
//                        }
//                    }else {
//                        if(index_>3){
//                            alert("最多选出4支球队!");
//                            break;
//                        }else {
//                            index_++;
//                            target.className="content_body_left_left_active";
//                        }
//                    }
//                    break;
//                }
//                target=target.parentNode;
//            }
//        });
//        var oUl=document.getElementById("clicks");
//        var index_=0;
//        oUl.addEventListener("click",function (ev) {
//            var target=ev.target;
//
//            while (target!==oUl){
//                if(target.tagName.toLowerCase()=="button"){
//                    index_++;
//                    if(index_>4){
//                        break;
//                    }
////                    target.addClass("active");
//                    console.log("button.click");
//                        target.className+=" active";
//                    break;
//                }
//                target=target.parentNode;
//            }
//        });
    //弹图层
//        var btn_submit=document.getElementById("btn_submit");
//        btn_submit.addEventListener("click",function () {
//           document.getElementById("layer").style.display="block";
//
//        });
    //关闭图层
//        var tijiao=document.getElementById("tijiao");
//        tijiao.addEventListener("click",function () {
//            document.getElementById("layer").style.display="none";
//        });
    //测试 jquery
    $("#btn_submit").click(function () {
        $("#layer").slideDown(2000);
//           alert("ok");
    });
    $("#tijiao").click(function () {
        $("#layer").slideUp(2000);
    });
</script>
</body>
</html>